<?xml version="1.0"?>
<metainfo>
	<schemaVersion>2.0</schemaVersion>
	<services>
		<service>
			<name>HTTPFS</name>
			<displayName>HttpFS</displayName>
			<comment>The server providing HTTP REST API support for the complete fileSystem/FileContext interface in HDFS.</comment>
			<version>3.3.6</version>
			<components>
				<component>
					<name>HTTPFS_GATEWAY</name>
					<displayName>HTTPFS gateway</displayName>
					<category>MASTER</category>
					<cardinality>0+</cardinality>
					<commandScript>
						<script>scripts/httpfs_component.py</script>
						<scriptType>PYTHON</scriptType>
						<timeout>600</timeout>
					</commandScript>
					<dependencies>
						<dependency>
							<name>HDFS/HDFS_CLIENT</name>
							<scope>host</scope>
							<auto-deploy>
								<enabled>true</enabled>
							</auto-deploy>
						</dependency>
					</dependencies>
				</component>
			</components>
			<commandScript>
				<script>scripts/service_check.py</script>
				<scriptType>PYTHON</scriptType>
				<timeout>600</timeout>
			</commandScript>
			<osSpecifics>
				<osSpecific>
					<osFamily>any</osFamily>
					<packages>
						<package>
							<name>hadoop_${stack_version}-httpfs</name>
							<skipUpgrade>true</skipUpgrade>
						</package>
						<package>
							<name>hadoop_${stack_version}-httpfs-server</name>
							<skipUpgrade>true</skipUpgrade>
						</package>
					</packages>
				</osSpecific>
			</osSpecifics>
			<requiredServices>
				<service>HDFS</service>
			</requiredServices>
			<configuration-dependencies>
				<config-type>httpfs-log4j</config-type>
				<config-type>httpfs-env</config-type>
				<config-type>httpfs-site</config-type>
				<config-type>hadoop-env</config-type>
                <config-type>hdfs-site</config-type>
                <config-type>core-site</config-type>
			</configuration-dependencies>
			<restartRequiredAfterChange>true</restartRequiredAfterChange>
		</service>
	</services>
</metainfo>
